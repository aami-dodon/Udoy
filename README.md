# Udoy Platform

Bootstrapped monorepo that contains the initial Udoy client and server applications.

## Prerequisites
- [Node.js](https://nodejs.org/) 20.x if running locally without Docker
- [Docker](https://www.docker.com/) and [Docker Compose](https://docs.docker.com/compose/) for containerized workflows

## Environment Setup
1. Copy the example environment file:
   ```bash
   cp .env.example .env
   ```
2. Update the secrets to match your local configuration as needed. The same `.env` file is used by both the client and server.

## Running with Docker Compose
Build and start both services:
```bash
docker compose up --build
```

Docker Compose will:
- Build the Express server image and expose it on port **6005**
- Build the Vite client image and expose it on port **6004**
- Inject the shared environment variables defined in `.env`

Stop the services with:
```bash
docker compose down
```

## Verifying the Health Check Homepage
Once the containers are running, open the client in a browser at:
```
http://localhost:6004
```
The page triggers a health check against the backend. When the backend responds successfully, the UI displays **OK**.

You can also verify the backend directly via curl:
```bash
curl http://localhost:6004
```
The command should return the rendered HTML generated by the client which includes the **OK** message on success.

To reach the API health endpoint directly use:
```bash
curl http://localhost:6005/api/health
```

## Local Development without Docker
Each app can be started individually:

### Server
```bash
cd app/server
npm install
npm run dev
```
The server listens on `http://localhost:6005`.

### Client
```bash
cd app/client
npm install
npm run dev -- --host 0.0.0.0 --port 6004
```
The client listens on `http://localhost:6004` and proxies requests to the backend using `VITE_API_URL`.

## Project Structure
```
app/
  client/   # React (Vite) frontend
  server/   # Express backend
  shared/   # Shared theme and future cross-cutting utilities
CHANGELOG.md
API-SPECS.md
ROUTES.md
README.md
```

Refer to `CHANGELOG.md`, `API-SPECS.md`, and `ROUTES.md` for time-stamped updates.
